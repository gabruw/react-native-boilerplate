#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸš€ğŸš€ğŸš€ Starting pre-push scripts ğŸš€ğŸš€ğŸš€";
echo "ğŸºğŸºğŸº Ohh, you already know me right?";
echo "";

echo "1 - ğŸ’…ğŸ‘€ğŸ¤Œ It's time to check the format of your code!";

yarn check:format ||
(
    echo "ğŸ¥´ğŸ˜µâ€ğŸ’«ğŸ¥´ğŸ˜µâ€ğŸ’« So you're someone who likes to mess things up right? ğŸ¥´ğŸ˜µâ€ğŸ’«ğŸ¥´ğŸ˜µâ€ğŸ’«";
    echo "Check Format failed, run 'yarn check-format' to try again";

    false;
)

echo "";
echo "ğŸ¤”ğŸ¤”ğŸ¤”... Right... Right... Congratulations on the minimum";

echo "";
echo "|-------------------------------------------------------------------------|";
echo "";

echo "2 - ğŸ“–ğŸ‘€ğŸ¤Œ I called Phoenix Wright to check the rules, it's time to check the lint!";

yarn check:lint ||
(
    echo "ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤ Get that weak s**t out of here! ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤";
    echo "ESLint Check failed, run 'yarn check-lint' to try again";

    false;
)

echo "";
echo "ğŸ¤”ğŸ¤”ğŸ¤”... So your code looks great? Let's see if anyone learned OO";

echo "";
echo "|-------------------------------------------------------------------------|";
echo "";

echo "3 - ğŸª§ğŸ‘€ğŸ¤Œ I'm not your type? Well, it's time to check the types!";
echo ""

yarn check:types ||
(
    echo "ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ You're not dumb, you're just... hmmm... quirky right? ğŸ¤¡ğŸ˜‚âŒğŸ¤¡";
    echo "Types Check failed, run 'yarn check-types' to try again";

    false;
)

echo "";
echo "ğŸ¥³ğŸ¥³ğŸ¥³ Your effort brought you this far, It's push time!!! ğŸ¥³ğŸ¥³ğŸ¥³";
echo "";
